---
const { name, abv, og, fg, srm, style, ingredients, instructions } = Astro.props;

const srmColor = (() => {
  if (srm <= 5) return "#f9e076";
  if (srm <= 10) return "#e0a132";
  if (srm <= 20) return "#a15c1b";
  if (srm <= 30) return "#62361b";
  return "#301214";
})();
---

<div class="rounded-2xl shadow-md hover:shadow-lg transition-shadow duration-200 bg-white dark:bg-gray-900 p-6 flex flex-col sm:flex-row gap-6">
  <!-- SRM Color Block -->
  <div
    class="w-14 h-28 rounded-md border border-black shadow-inner flex items-end justify-center text-xs font-semibold text-white shrink-0"
    style={`background-color: ${srmColor};`}
    title={`SRM ${srm}`}
  >
    SRM {srm}
  </div>

  <!-- Recipe Details -->
  <div class="flex-1 space-y-2">
    <h2 class="text-2xl font-bold text-gray-900 dark:text-white">{name}</h2>
    <p class="text-sm text-gray-600 dark:text-gray-300">{style}</p>

    <div class="text-sm text-gray-700 dark:text-gray-400">
      <span class="inline-block mr-4"><strong>ABV:</strong> {abv}%</span>
      <span class="inline-block mr-4"><strong>OG:</strong> {og}</span>
      <span class="inline-block mr-4"><strong>FG:</strong> {fg}</span>
      <span class="inline-block"><strong>SRM:</strong> {srm}</span>
    </div>

    <ul class="list-disc list-inside text-sm text-gray-800 dark:text-gray-200 mt-2">
      {Array.isArray(ingredients) && ingredients.length > 0 ? (
        ingredients.map(i => <li>{i}</li>)
      ) : (
        <li class="italic text-gray-400">No ingredients listed</li>
      )}
    </ul>

    <p class="text-sm italic text-gray-500 dark:text-gray-400 mt-2">{instructions}</p>
  </div>
</div>
